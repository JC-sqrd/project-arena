[gd_scene load_steps=15 format=3 uid="uid://dscnrnivus7jc"]

[ext_resource type="Script" uid="uid://cfgh4nylljfr5" path="res://Scripts/Combat/Equipment/Armgear/Armgear.gd" id="1_hnurb"]
[ext_resource type="Texture2D" uid="uid://kjerslv0ofrq" path="res://Sprites/Armgear/Lightning Gauntlets/fc2170.png" id="2_8ace4"]
[ext_resource type="Script" uid="uid://0tj10r8qa8qr" path="res://Scripts/Combat/Equipment/EquipmentTierManager/EquipmentTierManager.gd" id="2_8ag46"]
[ext_resource type="Script" uid="uid://bjpxplndvkee" path="res://Scripts/StatSystem/Stats/EquipmentBonusStat.gd" id="2_hufy7"]
[ext_resource type="Script" uid="uid://boi71j6dy2kn6" path="res://Scripts/Combat/Equipment/EquipmentTierManager/EquipmentTierNode.gd" id="3_8ace4"]
[ext_resource type="Script" uid="uid://bgka26pbphks7" path="res://Scripts/StatSystem/Stat.gd" id="3_jmjp6"]
[ext_resource type="Script" uid="uid://bvj2nh3d8upjg" path="res://Scripts/Ability System/AbilityContainer/EquipmentPassiveAbilityContainer.gd" id="4_0i7bn"]
[ext_resource type="Script" uid="uid://dkb4p6s36rwxr" path="res://Scripts/Combat/Equipment/EquipmentTierManager/EquipmentTierModifications/ModifyEquipmentStat.gd" id="4_mcbip"]
[ext_resource type="Script" uid="uid://dhox24fwv011e" path="res://Scripts/Ability System/PassiveAbility/SpawnOnAbilityCastArea.gd" id="5_8ag46"]
[ext_resource type="PackedScene" uid="uid://dp5ulm7wnucna" path="res://Scenes/Equipments/Shoes/spawnable_lightning_strike.tscn" id="6_8ace4"]
[ext_resource type="Script" uid="uid://dm3uuggj1g47y" path="res://Scripts/Combat/HitListener.gd" id="7_mcbip"]
[ext_resource type="Script" uid="uid://c8sj8b1npavnd" path="res://Scripts/Combat/CombatEffects/DamageEffect.gd" id="8_yvgq3"]
[ext_resource type="Script" uid="uid://cbdnn38awoh2q" path="res://Scripts/StatSystem/Stats/GetActorStatAdder.gd" id="9_utr78"]

[sub_resource type="CircleShape2D" id="CircleShape2D_jxo60"]
radius = 500.0

[node name="ArmgearLightningGauntlets" type="Node2D" node_paths=PackedStringArray("tier_manager")]
script = ExtResource("1_hnurb")
equipment_name = "Lightning Gauntlets"
type = 3
tier_manager = NodePath("EquipmentTierManager")
string_id = "lightning_gauntlets"
equipment_icon = ExtResource("2_8ace4")
metadata/_custom_type_script = "uid://cfgh4nylljfr5"

[node name="EquipmentTierManager" type="Node" parent="." node_paths=PackedStringArray("next_tier_node")]
script = ExtResource("2_8ag46")
next_tier_node = NodePath("EquipmentTierNode2")
metadata/_custom_type_script = "uid://0tj10r8qa8qr"

[node name="EquipmentTierNode2" type="Node" parent="EquipmentTierManager" node_paths=PackedStringArray("next_tier_node")]
script = ExtResource("3_8ace4")
next_tier_node = NodePath("../EquipmentTierNode3")
metadata/_custom_type_script = "uid://boi71j6dy2kn6"

[node name="ModifyEquipmentStat" type="Node" parent="EquipmentTierManager/EquipmentTierNode2" node_paths=PackedStringArray("stat")]
script = ExtResource("4_mcbip")
stat = NodePath("../../../SpawnOnAbilityCastArea/MaxTargets")
new_stat_value = 2.0
metadata/_custom_type_script = "uid://dkb4p6s36rwxr"

[node name="EquipmentTierNode3" type="Node" parent="EquipmentTierManager" node_paths=PackedStringArray("next_tier_node")]
script = ExtResource("3_8ace4")
tier = 2
next_tier_node = NodePath("../EquipmentTierNode4")
metadata/_custom_type_script = "uid://boi71j6dy2kn6"

[node name="ModifyEquipmentStat" type="Node" parent="EquipmentTierManager/EquipmentTierNode3" node_paths=PackedStringArray("stat")]
script = ExtResource("4_mcbip")
stat = NodePath("../../../SpawnOnAbilityCastArea/MaxTargets")
new_stat_value = 3.0
metadata/_custom_type_script = "uid://dkb4p6s36rwxr"

[node name="EquipmentTierNode4" type="Node" parent="EquipmentTierManager" node_paths=PackedStringArray("next_tier_node")]
script = ExtResource("3_8ace4")
tier = 3
next_tier_node = NodePath("../EquipmentTierNode5")
metadata/_custom_type_script = "uid://boi71j6dy2kn6"

[node name="ModifyEquipmentStat" type="Node" parent="EquipmentTierManager/EquipmentTierNode4" node_paths=PackedStringArray("stat")]
script = ExtResource("4_mcbip")
stat = NodePath("../../../SpawnOnAbilityCastArea/MaxTargets")
new_stat_value = 4.0
metadata/_custom_type_script = "uid://dkb4p6s36rwxr"

[node name="EquipmentTierNode5" type="Node" parent="EquipmentTierManager"]
script = ExtResource("3_8ace4")
tier = 4
metadata/_custom_type_script = "uid://boi71j6dy2kn6"

[node name="ModifyEquipmentStat" type="Node" parent="EquipmentTierManager/EquipmentTierNode5" node_paths=PackedStringArray("stat")]
script = ExtResource("4_mcbip")
stat = NodePath("../../../SpawnOnAbilityCastArea/MaxTargets")
new_stat_value = 5.0
metadata/_custom_type_script = "uid://dkb4p6s36rwxr"

[node name="EquipmentBonusStat" type="Node" parent="." node_paths=PackedStringArray("equipment", "bonus_value")]
script = ExtResource("2_hufy7")
equipment = NodePath("..")
stat_name = "magic"
bonus_value = NodePath("BonusValue")
metadata/_custom_type_script = "uid://bjpxplndvkee"

[node name="BonusValue" type="Node" parent="EquipmentBonusStat"]
script = ExtResource("3_jmjp6")
stat_value = 10.0
metadata/_custom_type_script = "uid://bgka26pbphks7"

[node name="EquipmentPassiveAbilityContainer" type="Node" parent="." node_paths=PackedStringArray("passive_ability")]
script = ExtResource("4_0i7bn")
passive_ability = NodePath("../SpawnOnAbilityCastArea")
metadata/_custom_type_script = "uid://bvj2nh3d8upjg"

[node name="SpawnOnAbilityCastArea" type="Node2D" parent="." node_paths=PackedStringArray("max_targets", "area", "hit_listener")]
script = ExtResource("5_8ag46")
spawn_on = 2
spawn_scene = ExtResource("6_8ace4")
look_at_mouse = false
spawn_on_nearest = false
cooldown = 5.0
max_targets = NodePath("MaxTargets")
area = NodePath("Area2D")
hit_listener = NodePath("HitListener")
metadata/_custom_type_script = "uid://dhox24fwv011e"

[node name="Area2D" type="Area2D" parent="SpawnOnAbilityCastArea"]
collision_layer = 0
collision_mask = 3
monitorable = false

[node name="CollisionShape2D" type="CollisionShape2D" parent="SpawnOnAbilityCastArea/Area2D"]
shape = SubResource("CircleShape2D_jxo60")
debug_color = Color(0.677934, 0.449075, 0.617644, 0.42)

[node name="HitListener" type="Node" parent="SpawnOnAbilityCastArea"]
script = ExtResource("7_mcbip")
metadata/_custom_type_script = "uid://dm3uuggj1g47y"

[node name="DamageEffect" type="Node" parent="SpawnOnAbilityCastArea/HitListener" node_paths=PackedStringArray("damage_stat")]
script = ExtResource("8_yvgq3")
damage_stat = NodePath("Stat")
damage_type = 1
metadata/_custom_type_script = "uid://c8sj8b1npavnd"

[node name="Stat" type="Node" parent="SpawnOnAbilityCastArea/HitListener/DamageEffect"]
script = ExtResource("3_jmjp6")
stat_value = 10.0
metadata/_custom_type_script = "uid://bgka26pbphks7"

[node name="GetActorStatAdder" type="Node" parent="SpawnOnAbilityCastArea/HitListener/DamageEffect/Stat" node_paths=PackedStringArray("stat")]
script = ExtResource("9_utr78")
stat = NodePath("..")
scale_with_stat_id = "magic"
ratio = 0.25
metadata/_custom_type_script = "uid://cbdnn38awoh2q"

[node name="MaxTargets" type="Node" parent="SpawnOnAbilityCastArea"]
script = ExtResource("3_jmjp6")
stat_value = 1.0
metadata/_custom_type_script = "uid://bgka26pbphks7"
