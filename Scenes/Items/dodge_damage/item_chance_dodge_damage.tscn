[gd_scene load_steps=10 format=3 uid="uid://3tleitsb6xke"]

[ext_resource type="Script" uid="uid://2776fa2foktx" path="res://Scenes/Items/dodge_damage/Scripts/ChanceDodgeDamage.gd" id="1_m102s"]
[ext_resource type="Texture2D" uid="uid://dcwqvf0o35b6x" path="res://Sprites/Items/Cloak of Evasion/Cloak of Evasion.png" id="2_jj6bn"]
[ext_resource type="Script" uid="uid://bf3pgksjjh1i0" path="res://Scripts/Item/ItemBonusStat.gd" id="3_nmmtv"]
[ext_resource type="Script" uid="uid://bgka26pbphks7" path="res://Scripts/StatSystem/Stat.gd" id="4_rcr34"]
[ext_resource type="Script" uid="uid://d35h5o2rfotvj" path="res://Scripts/StatSystem/Stats/StatMultiplier.gd" id="5_7lyho"]
[ext_resource type="Script" uid="uid://dqjgy52bq0foh" path="res://Scripts/StatSystem/Stats/StatAdder.gd" id="6_s0flp"]
[ext_resource type="Script" uid="uid://dglnl0xy27e5u" path="res://Scripts/StatSystem/Stats/StatDivider.gd" id="7_8al68"]
[ext_resource type="Script" uid="uid://bswgoovv7k1x" path="res://Scripts/StatSystem/Stats/StatSubtractor.gd" id="8_8sv2n"]
[ext_resource type="Script" uid="uid://tw1mwca5s05v" path="res://Scripts/StatSystem/ItemStackStatAdder.gd" id="9_udylk"]

[node name="ItemChanceBlockDamage" type="Node" node_paths=PackedStringArray("dodge_chance")]
script = ExtResource("1_m102s")
dodge_chance = NodePath("1-1|0_15xStack+1")
item_name = "Cloak of Evasion"
item_icon = ExtResource("2_jj6bn")
string_id = "dodge_chance"
item_detail = "Gain 15% (+15% each stack) to block incoming damage"
buy_cost = 60.0
sell_value = 15.0

[node name="ItemBonusStat" type="Node" parent="." node_paths=PackedStringArray("bonus_value")]
script = ExtResource("3_nmmtv")
stat_name = "dodge_chance"
bonus_value = NodePath("../1-1|0_15xStack+1")
metadata/_custom_type_script = "uid://bf3pgksjjh1i0"

[node name="0_15" type="Node" parent="."]
script = ExtResource("4_rcr34")
stat_value = 0.15

[node name="0_15xStack" type="Node" parent="." node_paths=PackedStringArray("a_stat", "b_stat")]
script = ExtResource("5_7lyho")
a_stat = NodePath("../0_15")
b_stat = NodePath("../ItemStack")

[node name="0_15xStack+1" type="Node" parent="." node_paths=PackedStringArray("a_stat", "b_stat")]
script = ExtResource("6_s0flp")
a_stat = NodePath("../0_15xStack")
b_stat = NodePath("1")

[node name="1" type="Node" parent="0_15xStack+1"]
script = ExtResource("4_rcr34")
stat_value = 1.0

[node name="1|0_15xStack+1" type="Node" parent="." node_paths=PackedStringArray("a_stat", "b_stat")]
script = ExtResource("7_8al68")
a_stat = NodePath("../0_15xStack+1/1")
b_stat = NodePath("../0_15xStack+1")

[node name="1-1|0_15xStack+1" type="Node" parent="." node_paths=PackedStringArray("a_stat", "b_stat")]
script = ExtResource("8_8sv2n")
a_stat = NodePath("../0_15xStack+1/1")
b_stat = NodePath("../1|0_15xStack+1")

[node name="ItemStack" type="Node" parent="."]
script = ExtResource("4_rcr34")

[node name="ItemStackStat" type="Node" parent="ItemStack" node_paths=PackedStringArray("item", "stat_to_scale")]
script = ExtResource("9_udylk")
item = NodePath("../..")
stat_to_scale = NodePath("..")
