[gd_scene load_steps=10 format=3 uid="uid://dpxeo3vfdhsen"]

[ext_resource type="Script" uid="uid://cayxhy3f8vjp7" path="res://Scenes/Items/burst_damage/Scripts/BurstDamage.gd" id="1_mdj71"]
[ext_resource type="PackedScene" uid="uid://dndkgxqahawqw" path="res://Scenes/Spawnables/AreaDamage/spawnable_area_damage.tscn" id="2_n6ngu"]
[ext_resource type="Texture2D" uid="uid://t4wxqhtd5qyl" path="res://Placeholders/Icons/Icon.4_29.png" id="3_g315g"]
[ext_resource type="Script" uid="uid://dqjgy52bq0foh" path="res://Scripts/StatSystem/Stats/StatAdder.gd" id="4_cct32"]
[ext_resource type="Script" uid="uid://bgka26pbphks7" path="res://Scripts/StatSystem/Stat.gd" id="5_5o1nc"]
[ext_resource type="Script" uid="uid://dm3uuggj1g47y" path="res://Scripts/Combat/HitListener.gd" id="6_2csxl"]
[ext_resource type="Script" uid="uid://c8sj8b1npavnd" path="res://Scripts/Combat/CombatEffects/DamageEffect.gd" id="7_yys2m"]
[ext_resource type="Script" uid="uid://d35h5o2rfotvj" path="res://Scripts/StatSystem/Stats/StatMultiplier.gd" id="8_poe2l"]
[ext_resource type="Script" uid="uid://tw1mwca5s05v" path="res://Scripts/StatSystem/ItemStackStatAdder.gd" id="9_gll3c"]

[node name="ItemOnBurstDamage" type="Node" node_paths=PackedStringArray("hit_damage_multiplier", "hit_listener")]
script = ExtResource("1_mdj71")
hit_damage_multiplier = NodePath("HitDamageMultiplier*Stack*0_05")
threshold_percent = 0.2
cooldown_time = 5.0
spawnable_scene = ExtResource("2_n6ngu")
hit_listener = NodePath("HitListener")
item_name = "Shockwave Shard"
item_icon = ExtResource("3_g315g")
string_id = "burst_damage"
item_detail = "On Damage: Create an explosion that deals 60%(+5 each stack) of the damage dealt as magic damage.
(10 sec. cooldown)"
buy_cost = 300.0
sell_value = 25.0

[node name="HitDamageMultiplier*Stack*0_05" type="Node" parent="." node_paths=PackedStringArray("a_stat", "b_stat")]
script = ExtResource("4_cct32")
a_stat = NodePath("../HitDamageMultiplier")
b_stat = NodePath("../Stack*0_05")

[node name="HitDamageMultiplier" type="Node" parent="."]
script = ExtResource("5_5o1nc")
stat_value = 0.6

[node name="HitListener" type="Node" parent="."]
script = ExtResource("6_2csxl")

[node name="DamageEffect" type="Node" parent="HitListener" node_paths=PackedStringArray("damage_stat")]
script = ExtResource("7_yys2m")
damage_stat = NodePath("0")
damage_type = 1

[node name="0" type="Node" parent="HitListener/DamageEffect"]
script = ExtResource("5_5o1nc")

[node name="Stack*0_05" type="Node" parent="." node_paths=PackedStringArray("a_stat", "b_stat")]
script = ExtResource("8_poe2l")
a_stat = NodePath("../Stack")
b_stat = NodePath("0_05")

[node name="0_05" type="Node" parent="Stack*0_05"]
script = ExtResource("5_5o1nc")
stat_value = 0.05

[node name="Stack" type="Node" parent="."]
script = ExtResource("5_5o1nc")

[node name="ItemStackStatAdder" type="Node" parent="Stack" node_paths=PackedStringArray("item", "stat_to_scale")]
script = ExtResource("9_gll3c")
item = NodePath("../..")
stat_to_scale = NodePath("..")
