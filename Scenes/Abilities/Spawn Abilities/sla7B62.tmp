[gd_scene load_steps=9 format=3 uid="uid://qig4bnksvojg"]

[ext_resource type="Script" path="res://Scripts/Ability System/SpawnAbility.gd" id="1_kdqa1"]
[ext_resource type="PackedScene" uid="uid://ct34ut1k53nac" path="res://Scenes/Spawnables/AreaDamageOverTime/slash_field_spawnable.tscn" id="2_a757p"]
[ext_resource type="Script" path="res://Scripts/StatSystem/Stat.gd" id="3_avern"]
[ext_resource type="Script" path="res://Scripts/StatSystem/AbilityStatScaler.gd" id="4_13c50"]
[ext_resource type="Script" path="res://Scripts/Combat/HitListener.gd" id="5_agmpk"]
[ext_resource type="Script" path="res://Scripts/Combat/CombatEffects/DamageEffect.gd" id="6_vpfwj"]
[ext_resource type="Script" path="res://Scripts/Combat/CombatEffects/BonusValueChecks/DistanceCheck.gd" id="7_d1bvl"]
[ext_resource type="Script" path="res://Scripts/Combat/CombatEffects/BonusValueChecks/PercentCurrentHealthCheck.gd" id="8_82s2w"]

[node name="SpawnAbilityTest" type="Node" node_paths=PackedStringArray("hit_listener")]
script = ExtResource("1_kdqa1")
max_range = 500.0
spawn = ExtResource("2_a757p")
hit_listener = NodePath("HitListener")

[node name="Damage" type="Node" parent="."]
script = ExtResource("3_avern")
stat_value = 10.0

[node name="AbilityStatScaler" type="Node" parent="Damage" node_paths=PackedStringArray("ability", "stat")]
script = ExtResource("4_13c50")
ability = NodePath("../..")
stat_to_scale = "magic_damage"
stat = NodePath("..")
scale_ratio = 0.85

[node name="PercentCurrentHealthDamage" type="Node" parent="."]
script = ExtResource("3_avern")
stat_value = 0.01

[node name="AbilityStatScaler" type="Node" parent="PercentCurrentHealthDamage" node_paths=PackedStringArray("ability", "stat")]
script = ExtResource("4_13c50")
ability = NodePath("../..")
stat_to_scale = "magic_damage"
stat = NodePath("..")
scale_ratio = 0.001

[node name="HitListener" type="Node" parent="."]
script = ExtResource("5_agmpk")

[node name="DamageEffect" type="Node" parent="HitListener" node_paths=PackedStringArray("damage_stat")]
script = ExtResource("6_vpfwj")
damage_stat = NodePath("../../Damage")
damage_type = 1

[node name="DistanceCheck" type="Node" parent="HitListener/DamageEffect" node_paths=PackedStringArray("stat")]
script = ExtResource("7_d1bvl")
stat = NodePath("../../../Damage")
scaling_ratio = 0.5
relative_to_actor = false

[node name="PercentCurrentHealthCheck" type="Node" parent="HitListener/DamageEffect" node_paths=PackedStringArray("percentage_stat")]
script = ExtResource("8_82s2w")
percentage_stat = NodePath("../../../PercentCurrentHealthDamage")
