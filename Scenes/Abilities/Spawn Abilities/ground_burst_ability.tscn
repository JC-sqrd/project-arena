[gd_scene load_steps=13 format=3 uid="uid://du2r3qg36q32c"]

[ext_resource type="Script" uid="uid://df7s4oatxu4hr" path="res://Scripts/Ability System/SpawnAbility.gd" id="1_nlbdn"]
[ext_resource type="PackedScene" uid="uid://is31srwsdfbx" path="res://Scenes/Spawnables/AreaEnterDamage/ground_bursts_spawnable.tscn" id="2_2m7rr"]
[ext_resource type="Script" uid="uid://tuvjl40jf0pm" path="res://Scripts/Ability System/AbilityRequiredStat/AbilityRequiredStat.gd" id="3_dve7h"]
[ext_resource type="Script" uid="uid://dm3uuggj1g47y" path="res://Scripts/Combat/HitListener.gd" id="3_mkpod"]
[ext_resource type="Script" uid="uid://c8sj8b1npavnd" path="res://Scripts/Combat/CombatEffects/DamageEffect.gd" id="4_rgvpp"]
[ext_resource type="Script" uid="uid://dmjo067f80ntw" path="res://Scripts/Combat/CombatEffects/KnockbackEffect.gd" id="5_3agig"]
[ext_resource type="Script" uid="uid://bgka26pbphks7" path="res://Scripts/StatSystem/Stat.gd" id="5_y74cu"]
[ext_resource type="Script" uid="uid://b41oadkxkerfk" path="res://Scripts/Combat/CombatEffects/BonusValueChecks/DistanceCheck.gd" id="6_6sxas"]
[ext_resource type="Script" uid="uid://cfltv6h1swg76" path="res://Scripts/StatSystem/AbilityStatScaler.gd" id="6_bvjr6"]
[ext_resource type="Script" uid="uid://cj3muc43jf2gx" path="res://Scripts/Ability System/AbilityBehavior/StopOnCast.gd" id="9_dve7h"]

[sub_resource type="Resource" id="Resource_6sxas"]
script = ExtResource("3_dve7h")
stat_name = "current_mana"
required_value = 10.0
metadata/_custom_type_script = "uid://tuvjl40jf0pm"

[sub_resource type="Curve" id="Curve_ofirl"]
_data = [Vector2(0, 1), 0.0, 0.0, 0, 0]
point_count = 1

[node name="GroundBurstAbility" type="Node2D" node_paths=PackedStringArray("hit_listener")]
script = ExtResource("1_nlbdn")
max_range = 0.0
spawn = ExtResource("2_2m7rr")
required_stat = SubResource("Resource_6sxas")
cast_time = 0.35
hit_listener = NodePath("HitListener")
cooldown = 5.0

[node name="HitListener" type="Node" parent="."]
script = ExtResource("3_mkpod")

[node name="DamageEffect" type="Node" parent="HitListener" node_paths=PackedStringArray("damage_stat")]
script = ExtResource("4_rgvpp")
damage_stat = NodePath("../../Damage")

[node name="DistanceCheck" type="Node" parent="HitListener/DamageEffect" node_paths=PackedStringArray("stat")]
script = ExtResource("6_6sxas")
stat = NodePath("BonusDamage")
damage_curve = SubResource("Curve_ofirl")
distance = 60.0
relative_to_actor = false
metadata/_custom_type_script = "uid://b41oadkxkerfk"

[node name="BonusDamage" type="Node" parent="HitListener/DamageEffect/DistanceCheck"]
script = ExtResource("5_y74cu")
stat_value = 10.0
metadata/_custom_type_script = "uid://bgka26pbphks7"

[node name="Knockback" type="Node" parent="HitListener"]
script = ExtResource("5_3agig")

[node name="Damage" type="Node" parent="."]
script = ExtResource("5_y74cu")
stat_value = 15.0

[node name="AbilityStatScaler" type="Node" parent="Damage" node_paths=PackedStringArray("ability", "stat")]
script = ExtResource("6_bvjr6")
ability = NodePath("../..")
stat_to_scale = "attack_damage"
stat = NodePath("..")
scale_ratio = 0.2

[node name="StopOnCast" type="Node" parent="."]
script = ExtResource("9_dve7h")
stop_time = 0.15
stop_on = 1
metadata/_custom_type_script = "uid://cj3muc43jf2gx"
