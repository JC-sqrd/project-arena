[gd_scene load_steps=5 format=3 uid="uid://ut3msbbx2nmj"]

[ext_resource type="Script" uid="uid://dp5ieryrjnl3s" path="res://Scripts/Combat/StatusEffects/Poison.gd" id="1_nqm60"]
[ext_resource type="Script" uid="uid://c8sj8b1npavnd" path="res://Scripts/Combat/CombatEffects/DamageEffect.gd" id="2_63rkx"]
[ext_resource type="Script" uid="uid://bgka26pbphks7" path="res://Scripts/StatSystem/Stat.gd" id="3_6iiyd"]
[ext_resource type="Script" uid="uid://d35h5o2rfotvj" path="res://Scripts/StatSystem/Stats/StatMultiplier.gd" id="3_f8soo"]

[node name="Poison" type="Node" node_paths=PackedStringArray("damage_effect", "timer", "stack_stat")]
script = ExtResource("1_nqm60")
damage_effect = NodePath("DamageEffect")
duration = 5.0
stackable = true
timer = NodePath("Timer")
stack_stat = NodePath("StackStat")
restart_on_stack_add = true
id = "poison"
metadata/_custom_type_script = "uid://cswoqtgykpsjc"

[node name="DamageEffect" type="Node" parent="." node_paths=PackedStringArray("damage_stat")]
script = ExtResource("2_63rkx")
damage_stat = NodePath("StatMultiplier")
damage_type = 1
can_lifesteal = false
metadata/_custom_type_script = "uid://c8sj8b1npavnd"

[node name="StatMultiplier" type="Node" parent="DamageEffect" node_paths=PackedStringArray("a_stat", "b_stat")]
script = ExtResource("3_f8soo")
a_stat = NodePath("../../StackStat")
b_stat = NodePath("../PosionDamage")
metadata/_custom_type_script = "uid://d35h5o2rfotvj"

[node name="PosionDamage" type="Node" parent="DamageEffect"]
script = ExtResource("3_6iiyd")
stat_value = 1.0
metadata/_custom_type_script = "uid://bgka26pbphks7"

[node name="StackStat" type="Node" parent="."]
script = ExtResource("3_6iiyd")
metadata/_custom_type_script = "uid://bgka26pbphks7"

[node name="Timer" type="Timer" parent="."]
