[gd_scene load_steps=18 format=3 uid="uid://br6km26u30bs6"]

[ext_resource type="Script" uid="uid://bv2yshgehr8nl" path="res://Scripts/Combat/ProjectileWeapons/Chakram.gd" id="1_qlnpl"]
[ext_resource type="PackedScene" uid="uid://upkphqac5gql" path="res://Scenes/Weapons/Chakram/chakram_projectile.tscn" id="2_b7f46"]
[ext_resource type="Script" uid="uid://dm3uuggj1g47y" path="res://Scripts/Combat/HitListener.gd" id="2_qlnpl"]
[ext_resource type="Texture2D" uid="uid://cn1hgcl86qar2" path="res://Sprites/Weapons/Chakram/Chakram.png" id="3_agyne"]
[ext_resource type="Script" uid="uid://c8sj8b1npavnd" path="res://Scripts/Combat/CombatEffects/DamageEffect.gd" id="3_b7f46"]
[ext_resource type="Script" uid="uid://c4n03mihb0axg" path="res://Scripts/StatSystem/Stats/GetActorStatMult.gd" id="4_b7f46"]
[ext_resource type="Script" uid="uid://bgka26pbphks7" path="res://Scripts/StatSystem/Stat.gd" id="4_k1e25"]
[ext_resource type="Script" uid="uid://0tj10r8qa8qr" path="res://Scripts/Combat/Equipment/EquipmentTierManager/EquipmentTierManager.gd" id="4_vwmig"]
[ext_resource type="Script" uid="uid://boi71j6dy2kn6" path="res://Scripts/Combat/Equipment/EquipmentTierManager/EquipmentTierNode.gd" id="5_8kede"]
[ext_resource type="Script" uid="uid://cbdnn38awoh2q" path="res://Scripts/StatSystem/Stats/GetActorStatAdder.gd" id="5_k1e25"]
[ext_resource type="Script" uid="uid://ckgh7mgba1eo4" path="res://Scripts/Combat/CombatEffects/OnHitEffect.gd" id="5_xvjn4"]
[ext_resource type="Script" uid="uid://dkb4p6s36rwxr" path="res://Scripts/Combat/Equipment/EquipmentTierManager/EquipmentTierModifications/ModifyEquipmentStat.gd" id="6_gha1v"]
[ext_resource type="Script" uid="uid://dmjo067f80ntw" path="res://Scripts/Combat/CombatEffects/KnockbackEffect.gd" id="6_rbyrf"]
[ext_resource type="Script" uid="uid://2vlwp08ancca" path="res://Scripts/StatSystem/Stats/GetActorStatScaler.gd" id="8_hg4l2"]
[ext_resource type="Script" uid="uid://88st3pdi1hky" path="res://Scripts/Combat/CombatEffects/ApplyStatusEffect.gd" id="10_ejk8e"]
[ext_resource type="PackedScene" uid="uid://wn65qvhghkpr" path="res://Scenes/StatusEffects/Bleed.tscn" id="11_agyne"]
[ext_resource type="PackedScene" uid="uid://c42ua48l5bb27" path="res://Scenes/Abilities/Emit Abilities/Whirling Chakram/ability_whirling_chakram.tscn" id="14_rx7qf"]

[node name="WeaponChakram" type="Node2D" node_paths=PackedStringArray("throw_amount", "return_hit_listener", "spawn_node", "attack_damage", "attack_speed_stat", "weapon_ability", "hit_listener", "tier_manager", "tooltip_stats")]
script = ExtResource("1_qlnpl")
throw_amount = NodePath("ThrowAmount")
return_speed = 1000.0
return_hit_listener = NodePath("ReturnHitListener")
projectile = ExtResource("2_b7f46")
speed = 800.0
spawn_node = NodePath("Marker2D")
max_distance = 450.0
attack_damage = NodePath("Damage")
attack_speed_stat = NodePath("AttackSpeed")
attack_windup_time = 0.15
weapon_ability = NodePath("AbilityWhirlingChakram")
hit_listener = NodePath("HitListener")
equipment_name = "Chakram"
tier_manager = NodePath("EquipmentTierManager")
string_id = "chakram"
equipment_icon = ExtResource("3_agyne")
tooltip_stats = [NodePath("Damage"), NodePath("AttackSpeed"), NodePath("ThrowAmount")]
metadata/_custom_type_script = "uid://d3fin4411ww46"

[node name="ThrowAmount" type="Node" parent="."]
script = ExtResource("4_k1e25")
stat_value = 2.0
can_be_negative = false
metadata/_custom_type_script = "uid://bgka26pbphks7"

[node name="EquipmentTierManager" type="Node" parent="." node_paths=PackedStringArray("next_tier_node")]
script = ExtResource("4_vwmig")
next_tier_node = NodePath("EquipmentTierNode2")
metadata/_custom_type_script = "uid://0tj10r8qa8qr"

[node name="EquipmentTierNode2" type="Node" parent="EquipmentTierManager" node_paths=PackedStringArray("next_tier_node")]
script = ExtResource("5_8kede")
next_tier_node = NodePath("../EquipmentTierNode3")
metadata/_custom_type_script = "uid://boi71j6dy2kn6"

[node name="ModifyEquipmentStat" type="Node" parent="EquipmentTierManager/EquipmentTierNode2" node_paths=PackedStringArray("stat")]
script = ExtResource("6_gha1v")
stat = NodePath("../../../Damage")
new_stat_value = 6.0
metadata/_custom_type_script = "uid://dkb4p6s36rwxr"

[node name="EquipmentTierNode3" type="Node" parent="EquipmentTierManager" node_paths=PackedStringArray("next_tier_node")]
script = ExtResource("5_8kede")
tier = 2
next_tier_node = NodePath("../EquipmentTierNode4")
metadata/_custom_type_script = "uid://boi71j6dy2kn6"

[node name="ModifyEquipmentStat" type="Node" parent="EquipmentTierManager/EquipmentTierNode3" node_paths=PackedStringArray("stat")]
script = ExtResource("6_gha1v")
stat = NodePath("../../../Damage")
new_stat_value = 7.0
metadata/_custom_type_script = "uid://dkb4p6s36rwxr"

[node name="EquipmentTierNode4" type="Node" parent="EquipmentTierManager" node_paths=PackedStringArray("next_tier_node")]
script = ExtResource("5_8kede")
tier = 3
next_tier_node = NodePath("../EquipmentTierNode5")
metadata/_custom_type_script = "uid://boi71j6dy2kn6"

[node name="ModifyEquipmentStat" type="Node" parent="EquipmentTierManager/EquipmentTierNode4" node_paths=PackedStringArray("stat")]
script = ExtResource("6_gha1v")
stat = NodePath("../../../Damage")
new_stat_value = 8.0
metadata/_custom_type_script = "uid://dkb4p6s36rwxr"

[node name="ModifyEquipmentStat2" type="Node" parent="EquipmentTierManager/EquipmentTierNode4" node_paths=PackedStringArray("stat")]
script = ExtResource("6_gha1v")
stat = NodePath("../../../ThrowAmount")
new_stat_value = 3.0
metadata/_custom_type_script = "uid://dkb4p6s36rwxr"

[node name="EquipmentTierNode5" type="Node" parent="EquipmentTierManager"]
script = ExtResource("5_8kede")
tier = 4
metadata/_custom_type_script = "uid://boi71j6dy2kn6"

[node name="ModifyEquipmentStat" type="Node" parent="EquipmentTierManager/EquipmentTierNode5" node_paths=PackedStringArray("stat")]
script = ExtResource("6_gha1v")
stat = NodePath("../../../Damage")
new_stat_value = 9.0
metadata/_custom_type_script = "uid://dkb4p6s36rwxr"

[node name="ModifyEquipmentStat2" type="Node" parent="EquipmentTierManager/EquipmentTierNode5" node_paths=PackedStringArray("stat")]
script = ExtResource("6_gha1v")
stat = NodePath("../../../ThrowAmount")
new_stat_value = 4.0
metadata/_custom_type_script = "uid://dkb4p6s36rwxr"

[node name="Chakram" type="Sprite2D" parent="."]
texture_filter = 1
position = Vector2(-4, -2)
texture = ExtResource("3_agyne")

[node name="Damage" type="Node" parent="."]
script = ExtResource("4_k1e25")
stat_value = 5.0
can_be_negative = false
metadata/_custom_type_script = "uid://bgka26pbphks7"

[node name="GetActorStatMult" type="Node" parent="Damage" node_paths=PackedStringArray("stat")]
script = ExtResource("4_b7f46")
stat = NodePath("..")
scale_with_stat_id = "attack_damage_mult"
metadata/_custom_type_script = "uid://c4n03mihb0axg"

[node name="GetActorStatAdder" type="Node" parent="Damage" node_paths=PackedStringArray("stat")]
script = ExtResource("5_k1e25")
stat = NodePath("..")
scale_with_stat_id = "strength"
ratio = 0.1
metadata/_custom_type_script = "uid://cbdnn38awoh2q"

[node name="AttackSpeed" type="Node" parent="."]
script = ExtResource("4_k1e25")
stat_value = 3.0
can_be_negative = false
metadata/_custom_type_script = "uid://bgka26pbphks7"

[node name="GetActorStatMult" type="Node" parent="AttackSpeed" node_paths=PackedStringArray("stat")]
script = ExtResource("4_b7f46")
stat = NodePath("..")
scale_with_stat_id = "attack_speed_mult"
metadata/_custom_type_script = "uid://c4n03mihb0axg"

[node name="GetActorStatAdder" type="Node" parent="AttackSpeed" node_paths=PackedStringArray("stat")]
script = ExtResource("5_k1e25")
stat = NodePath("..")
scale_with_stat_id = "attack_speed"
metadata/_custom_type_script = "uid://cbdnn38awoh2q"

[node name="AttackTimer" type="Timer" parent="."]

[node name="Marker2D" type="Marker2D" parent="."]

[node name="HitListener" type="Node" parent="."]
script = ExtResource("2_qlnpl")
metadata/_custom_type_script = "uid://dm3uuggj1g47y"

[node name="DamageEffect" type="Node" parent="HitListener" node_paths=PackedStringArray("damage_stat", "penetration_stat", "crit_chance_stat")]
script = ExtResource("3_b7f46")
damage_stat = NodePath("../../Damage")
penetration_stat = NodePath("../../ActorArmorPen")
crit_chance_stat = NodePath("../../ActorCrit")
metadata/_custom_type_script = "uid://c8sj8b1npavnd"

[node name="OnHitEffect" type="Node" parent="HitListener"]
script = ExtResource("5_xvjn4")
on_hit_chance = 0.15
metadata/_custom_type_script = "uid://ckgh7mgba1eo4"

[node name="Knockback" type="Node" parent="HitListener"]
script = ExtResource("6_rbyrf")
force = 75.0
metadata/_custom_type_script = "uid://dmjo067f80ntw"

[node name="ReturnHitListener" type="Node" parent="."]
script = ExtResource("2_qlnpl")
metadata/_custom_type_script = "uid://dm3uuggj1g47y"

[node name="DamageEffect" type="Node" parent="ReturnHitListener" node_paths=PackedStringArray("damage_stat", "penetration_stat", "crit_chance_stat")]
script = ExtResource("3_b7f46")
damage_stat = NodePath("../../Damage")
penetration_stat = NodePath("../../ActorArmorPen")
crit_chance_stat = NodePath("../../ActorCrit")
scaling_ratio = 2.0
metadata/_custom_type_script = "uid://c8sj8b1npavnd"

[node name="OnHitEffect" type="Node" parent="ReturnHitListener"]
script = ExtResource("5_xvjn4")
on_hit_chance = 0.15
metadata/_custom_type_script = "uid://ckgh7mgba1eo4"

[node name="Knockback" type="Node" parent="ReturnHitListener"]
script = ExtResource("6_rbyrf")
force = 75.0
metadata/_custom_type_script = "uid://dmjo067f80ntw"

[node name="ApplyStatusEffect" type="Node" parent="ReturnHitListener"]
script = ExtResource("10_ejk8e")
status_effect_scene = ExtResource("11_agyne")
chance = 0.5
metadata/_custom_type_script = "uid://88st3pdi1hky"

[node name="ActorArmorPen" type="Node" parent="."]
script = ExtResource("4_k1e25")
metadata/_custom_type_script = "uid://bgka26pbphks7"

[node name="GetActorStatScaler" type="Node" parent="ActorArmorPen" node_paths=PackedStringArray("stat")]
script = ExtResource("8_hg4l2")
stat = NodePath("..")
scale_with_stat_id = "armor_pen"
metadata/_custom_type_script = "uid://2vlwp08ancca"

[node name="ActorCrit" type="Node" parent="."]
script = ExtResource("4_k1e25")
metadata/_custom_type_script = "uid://bgka26pbphks7"

[node name="GetActorStatScaler" type="Node" parent="ActorCrit" node_paths=PackedStringArray("stat")]
script = ExtResource("8_hg4l2")
stat = NodePath("..")
scale_with_stat_id = "crit_chance"
metadata/_custom_type_script = "uid://2vlwp08ancca"

[node name="AbilityWhirlingChakram" parent="." instance=ExtResource("14_rx7qf")]
